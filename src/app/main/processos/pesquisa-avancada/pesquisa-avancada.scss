#pesquisa-avancada {
    $header-height: 140px;
    transform: translate3d(0, 0, 0);

    .header-saved-search-button {
        md-icon {
            vertical-align: sub;
        }
    }

    > .content {

        .builder {
            padding: 24px 32px;
            margin-bottom: 48px;

            .search-wrapper {
                border-radius: 2px;
                margin-bottom: 24px;
                .search {
                    background: white;
                    height: 56px;
                    line-height: 56px;
                    padding: 18px;

                    .icon {
                        margin: 0;
                    }

                    md-autocomplete {
                        height: 56px;
                        border-radius: 0;
                        background: rgba(255,255,255,0);

                        md-autocomplete-wrap {
                            box-shadow: none;
                        }

                        button {
                            position: relative;
                            top: 50%;
                            margin-top: -4px;
                            opacity: 0.5;
                        }
                    }

                    input {
                        color: rgba(0, 0, 0, 0.54);
                        font-size: 1.4em;
                        height: 56px;
                        padding-left: 16px;

                        @include input-placeholder(rgba(0, 0, 0, 0.34), 1, 300);
                    }
                }

                .buttons {
                    $button-size: 34px;

                    .md-fab {
                        height: $button-size;
                        width: $button-size;
                        line-height: $button-size;
                        min-width: auto;
                        min-height: auto;

                        font-weight: 500;
                        font-size: 1em;
                        text-align: center;
                        text-transform: lowercase;

                        margin-left: 4px;
                        margin-right: 4px;

                        &:last-child {
                            margin-right: 0;
                        }

                        &:not(.selected) {
                            background: material-color('grey', '100');
                            color: $text-color-lighter;
                            font-weight: 400;
                        }
                    }
                }

            }

            .add-button {
                $size: 46px;
                margin: -22px 0 0 12px;
                width: $size;
                height: $size;
                min-width: $size;
                min-height: $size;
                line-height: $size;
            }

            .criteria-list {

                .criteria-item {
                    background: material-color('grey', '200');
                    border-bottom: $border-style;
                    padding: 12px 6px;
                    position: relative;

                    &:last-child {
                        border-bottom: none;
                    }

                    .handle {
                        cursor: grab;
                        md-icon {
                            color: transparentize(black, 0.85);
                        }
                        &:hover {
                            md-icon {
                                color: transparentize(black, 0.7);
                            }
                        }
                    }

                    .name {
                        color: $text-color-light;
                        font-size: 1.2em;
                        font-weight: normal;
                        margin-left: 36px;
                        width: 160px;
                    }

                    .comparisson-operator {
                        background: transparentize(white, 0.4);
                        padding-left: 8px;
                        margin-left: 16px;

                        &.disabled {
                            background: transparentize(white, 0.8);

                            md-select[disabled] {
                                .md-select-value {
                                    border: none;
                                    background: none;
                                    color: $text-color-light;
                                    margin-bottom: 0;
                                }
                            }
                        }

                        md-select {
                            margin: 4px 0;
                            width: 120px;
                            .md-select-value {
                                border: none;
                                color: $text-color-normal;
                                font-size: 1.1em;

                                &.md-select-placeholder {
                                    color: $text-color-lighter;
                                }
                            }
                        }
                    }

                    .logical-operator-options {
                        $button-size: 32px;
                        position: absolute;
                        top: -($button-size * 0.66);
                        left: 18px;

                        button.md-fab.md-mini {
                            color: white;
                            font-size: 0.9em;
                            font-weight: normal;
                            text-transform: lowercase;

                            height: $button-size;
                            min-height: $button-size;
                            width: $button-size;
                            line-height: $button-size;
                        }
                    }

                    .value {

                        md-select {
                            margin: 0 0 0 24px;
                            min-width: 194px;

                            .md-select-value {
                                color: $text-color-normal;
                                font-size: 1.2em;
                                font-weight: 500;
                            }
                        }

                        md-input-container {
                            display: inline-block;
                            padding: 0;
                            margin: 0px;

                            input {
                                color: $text-color-normal;
                                font-size: 1.2em;
                                font-weight: 500;
                                min-width: 194px;

                                @include input-placeholder(black, 0.4, normal);
                            }

                            &:first-child {
                                margin-left: 24px;
                            }

                            .md-errors-spacer {
                                display: none;
                            }
                        }

                        md-datepicker {
                            background: transparent;

                            .md-datepicker-input {
                                background: transparent;
                            }
                        }

                        .connector {
                            color: $text-color-light;
                            font-weight: 500;
                            text-align: center;
                            padding: 0 12px;
                        }

                        &.number {
                            md-input-container input {
                                max-width: 80px;
                                min-width: 80px;
                            }
                        }

                    }

                    .buttons {
                        $button-size: 32px;

                        button {
                            border-radius: 50%;

                            height: $button-size;
                            min-height: $button-size;
                            width: $button-size;
                            min-width: $button-size;
                            line-height: $button-size;
                            padding: 0;

                            .icon {
                                font-size: 1.5em;
                            }
                            &.favorite {
                                .icon {
                                    color: transparentize(black, 0.8);
                                }
                                &.active {
                                    .icon {
                                        @extend .yellow-700-fg;
                                    }
                                }
                            }
                            &.remove {
                                .icon {
                                    color: transparentize(black, 0.5);
                                }
                            }

                            .md-ripple-container {
                                border-radius: 50%;
                            }

                        }
                    }

                    &.criteria-item-ghost {
                        opacity: 1 !important;
                        background: darken(white, 4%);
                        box-shadow: whiteframe-shadow-6dp;
                        border: none;

                        // TODO why is this needed to position the dragging ghost correctly?
                        left: 0 ! important;

                        .md-ripple-container {
                            display: none;
                        }
                    }

                    &.criteria-item-placeholder {
                        background: transparentize(black, 0.9);

                        * {
                            opacity: 0;
                        }
                    }

                }

            }

        }

    }
}

.criteria-summary {
    background: #f9f9f9;
    height: 80px;
    padding: 18px 16px 12px 16px;

    .criteria-thumb {
        display: inline-block;
        padding: 0 16px 0 32px;
        text-align: center;
        position: relative;

        &:first-child {
            padding-left: 0;
        }
        &:last-child {
            padding-right: 0;
        }

        .name {
            color: $text-color-normal;
            font-weight: 500;
            font-size: 1.1em;
            padding: 0 12px;

            &.empty {
                color: $text-color-light;
                font-style: italic;
                font-weight: normal;
            }
        }

        .divider {
            height: 3px;
            margin: 3px;
            min-width: 60px;
        }

        .operator {
            $size: 28px;
            border-radius: 50%;
            color: white;

            height: $size;
            width: $size;
            line-height: $size;

            font-weight: normal;
            font-size: 0.9em;
            text-align: center;
            vertical-align: middle;

            padding: 0;
            position: absolute;
            top: 50%;
            margin-top: -($size / 2);
            left: -6px;

            transform: rotate(0deg);
        }

        .data-source {
            color: $text-color-light;
            font-size: 0.9em;
        }

        &.placeholder {
            opacity: 0.6;

            .name, .data-source, .operator {
                color: material-color('grey', '800');
            }

            .operator {
                background: material-color('grey', '400');
            }
        }
    }

    .ps-container > .ps-scrollbar-x-rail {
        margin: 4px 4px -2px 4px;
        visibility: hidden;
    }
}