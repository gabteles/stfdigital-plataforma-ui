{"version":3,"sources":["tarefas/painel-de-fases/painel/painel.controller.ts"],"names":[],"mappings":"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","file":"tarefas/painel-de-fases/painel/painel.controller.js","sourcesContent":["(function ()\r\n{\r\n    'use strict';\r\n\r\n    var app = angular.module('app.tarefas.painel-de-fases');\r\n\r\n    /** @ngInject */\r\n    app.classy.controller({\r\n        name: 'TarefasPainelDeFasesPainelController',\r\n\r\n        inject: ['$document', '$mdDialog', 'msUtils', 'BoardList', 'BoardService', 'CardFilters', 'DialogService', '$mdSidenav'],\r\n\r\n        init: function() {\r\n            // Data\r\n            this.currentView = 'board';\r\n            this.board = this.BoardService.data;\r\n            this.boardList = this.BoardList.data;\r\n            this.cardFilters = this.CardFilters;\r\n            this.filteringIsOn = this.CardFilters.isOn;\r\n            this.openCardDialog = this.DialogService.openCardDialog;\r\n            this.clearFilters = this.CardFilters.clear;\r\n            this.card = {};\r\n            this.cardOptions = {};\r\n            this.newListName = '';\r\n            this.sortableListOptions = {\r\n                axis       : 'x',\r\n                delay      : 75,\r\n                distance   : 7,\r\n                items      : '> .list-wrapper',\r\n                handle     : '.list-header',\r\n                placeholder: 'list-wrapper list-sortable-placeholder',\r\n                tolerance  : 'pointer',\r\n                start      : function (event, ui) {\r\n                    var width = ui.item[0].children[0].clientWidth;\r\n                    var height = ui.item[0].children[0].clientHeight;\r\n\r\n                    ui.placeholder.css({\r\n                        'min-width': width + 'px',\r\n                        'width'    : width + 'px',\r\n                        'height'   : height + 'px'\r\n                    });\r\n                }\r\n            };\r\n            this.sortableCardOptions = {\r\n                appendTo            : 'body',\r\n                connectWith         : '.list-cards',\r\n                delay               : 75,\r\n                distance            : 7,\r\n                forceHelperSize     : true,\r\n                forcePlaceholderSize: true,\r\n                handle              : this.msUtils.isMobile() ? '.list-card-sort-handle' : false,\r\n                helper              : function (event, el)\r\n                {\r\n                    return el.clone().addClass('list-card-sort-helper');\r\n                },\r\n                placeholder         : 'list-card card-sortable-placeholder',\r\n                tolerance           : 'pointer',\r\n                scroll              : true,\r\n                sort                : function (event, ui)\r\n                {\r\n                    var listContentEl = ui.placeholder.closest('.list-content');\r\n                    var boardContentEl = ui.placeholder.closest('#board');\r\n\r\n                    if ( listContentEl )\r\n                    {\r\n                        var listContentElHeight = listContentEl[0].clientHeight,\r\n                            listContentElScrollHeight = listContentEl[0].scrollHeight;\r\n\r\n                        if ( listContentElHeight !== listContentElScrollHeight )\r\n                        {\r\n                            var itemTop = ui.position.top,\r\n                                itemBottom = itemTop + ui.item.height(),\r\n                                listTop = listContentEl.offset().top,\r\n                                listBottom = listTop + listContentElHeight;\r\n\r\n                            if ( itemTop < listTop + 25 )\r\n                            {\r\n                                listContentEl.scrollTop(listContentEl.scrollTop() - 25);\r\n                            }\r\n\r\n                            if ( itemBottom > listBottom - 25 )\r\n                            {\r\n                                listContentEl.scrollTop(listContentEl.scrollTop() + 25);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if ( boardContentEl )\r\n                    {\r\n                        var boardContentElWidth = boardContentEl[0].clientWidth;\r\n                        var boardContentElScrollWidth = boardContentEl[0].scrollWidth;\r\n\r\n                        if ( boardContentElWidth !== boardContentElScrollWidth )\r\n                        {\r\n                            var itemLeft = ui.position.left,\r\n                                itemRight = itemLeft + ui.item.width(),\r\n                                boardLeft = boardContentEl.offset().left,\r\n                                boardRight = boardLeft + boardContentElWidth;\r\n\r\n                            if ( itemLeft < boardLeft + 25 )\r\n                            {\r\n                                boardContentEl.scrollLeft(boardContentEl.scrollLeft() - 25);\r\n                            }\r\n\r\n                            if ( itemRight > boardRight)\r\n                            {\r\n                                boardContentEl.scrollLeft(boardContentEl.scrollLeft() + 25);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            Array.prototype.getById = function (value) {\r\n                return this.find(function (x) { return x.id === value; });\r\n            };\r\n        },\r\n\r\n        methods: {\r\n            /**\r\n             * Toggle sidenav\r\n             *\r\n             * @param sidenavId\r\n             */\r\n            toggleSidenav: function(sidenavId) {\r\n                this.$mdSidenav(sidenavId).toggle();\r\n            },\r\n\r\n            /**\r\n             * Card filter\r\n             *\r\n             * @param cardId\r\n             * @returns {*}\r\n             */\r\n            cardFilter: function(cardId) {\r\n                var card = this.board.cards.find(function(card) { return card.id === cardId; });\r\n\r\n                try {\r\n                    if ( angular.lowercase(card.name).indexOf(angular.lowercase(this.cardFilters.name)) < 0 ) {\r\n                        throw false;\r\n                    }\r\n\r\n                    angular.forEach(this.cardFilters.labels, function (label) {\r\n                        if ( !this.msUtils.exists(label, card.idLabels) ) {\r\n                            throw false;\r\n                        }\r\n                    }.bind(this));\r\n\r\n                } catch ( err ) {\r\n                    return err;\r\n                }\r\n\r\n                return true;\r\n            },\r\n\r\n            /**\r\n             * Is the card overdue?\r\n             *\r\n             * @param cardDate\r\n             * @returns {boolean}\r\n             */\r\n            isOverdue: function(cardDate) {\r\n                return new Date() > cardDate;\r\n            }\r\n        }\r\n    });\r\n})();"],"sourceRoot":"/source/"}