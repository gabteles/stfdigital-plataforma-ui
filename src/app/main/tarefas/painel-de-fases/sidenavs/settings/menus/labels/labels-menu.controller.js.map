{"version":3,"sources":["tarefas/painel-de-fases/sidenavs/settings/menus/labels/labels-menu.controller.ts"],"names":[],"mappings":"AAAA,CAAC;IACG,YAAY,CAAC;IAEb,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,6BAA6B,CAAC,CAAC;IAExD,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;QAElB,IAAI,EAAE,sBAAsB;QAE5B,MAAM,EAAE,CAAC,WAAW,EAAE,iBAAiB,EAAE,WAAW,EAAE,SAAS,EAAE,eAAe,EAAE,SAAS,EAAE,cAAc,CAAC;QAE5G,IAAI,EAAE;YACF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;YACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;YACpC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;YACf,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC/C,CAAC;QAED,OAAO,EAAE;YACL;;eAEG;YACH,WAAW,EAAE;gBACT,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;oBACnB,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;oBAChC,IAAI,EAAE,IAAI,CAAC,YAAY;oBACvB,KAAK,EAAE,IAAI,CAAC,aAAa;iBAC5B,CAAC,CAAC;gBACH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YAC3B,CAAC;YAED;;;;;eAKG;YACH,WAAW,EAAE,UAAS,EAAE,EAAE,OAAO;gBAC7B,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;oBACjC,KAAK,EAAgB,IAAI,CAAC,SAAS,CAAC,gDAAgD,CAAC;oBACrF,MAAM,EAAe,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC;oBACvD,WAAW,EAAU,IAAI,CAAC,SAAS,CAAC,4DAA4D,CAAC;oBACjG,SAAS,EAAY,IAAI,CAAC,SAAS,CAAC,gDAAgD,CAAC;oBACrF,WAAW,EAAU,EAAE;oBACvB,mBAAmB,EAAE,IAAI;oBACzB,aAAa,EAAQ,IAAI;oBACzB,EAAE,EAAmB,IAAI,CAAC,SAAS,CAAC,yCAAyC,CAAC;oBAC9E,MAAM,EAAe,IAAI,CAAC,SAAS,CAAC,0CAA0C,CAAC;iBAClF,CAAC,CAAC;gBAEH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;oBAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;oBAC5B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAEjD,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,UAAU,IAAI;wBAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAE,CAAC,CAAC,CAAC;4BACxD,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;wBAC5D,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAClB,CAAC;SACJ;KACJ,CAAC,CAAC;AACP,CAAC,CAAC,EAAE,CAAC","file":"tarefas/painel-de-fases/sidenavs/settings/menus/labels/labels-menu.controller.js","sourcesContent":["(function () {\r\n    'use strict';\r\n\r\n    var app = angular.module('app.tarefas.painel-de-fases');\r\n        \r\n    app.classy.controller({\r\n\r\n        name: 'LabelsMenuController',\r\n\r\n        inject: ['$document', '$mdColorPalette', '$mdDialog', '$filter', 'fuseGenerator', 'msUtils', 'BoardService'],\r\n    \r\n        init: function() {\r\n            this.board = this.BoardService.data;\r\n            this.palettes = this.$mdColorPalette;\r\n            this.rgba = this.fuseGenerator.rgba;\r\n            this.hue = 500;\r\n            this.newLabelColor = 'red';\r\n            this.newLabelName = '';\r\n            this.translate = this.$filter('translate');\r\n        },\r\n        \r\n        methods: {\r\n            /**\r\n             * Add New Label\r\n             */\r\n            addNewLabel: function() {\r\n                this.board.labels.push({\r\n                    id: this.msUtils.guidGenerator(),\r\n                    name: this.newLabelName,\r\n                    color: this.newLabelColor\r\n                });\r\n                this.newLabelName = '';\r\n            },\r\n\r\n            /**\r\n             * Remove label\r\n             *\r\n             * @param ev\r\n             * @param labelId\r\n             */\r\n            removeLabel: function(ev, labelId) {\r\n                var confirm = this.$mdDialog.confirm({\r\n                    title              : this.translate('TAREFAS.PAINEL-DE-FASES.DIALOGO.REMOVER-ROTULO'),\r\n                    parent             : this.$document.find('#scrumboard'),\r\n                    textContent        : this.translate('TAREFAS.PAINEL-DE-FASES.DIALOGO.REMOVER-ROTULO-CONFIRMACAO'),\r\n                    ariaLabel          : this.translate('TAREFAS.PAINEL-DE-FASES.DIALOGO.REMOVER-ROTULO'),\r\n                    targetEvent        : ev,\r\n                    clickOutsideToClose: true,\r\n                    escapeToClose      : true,\r\n                    ok                 : this.translate('TAREFAS.PAINEL-DE-FASES.DIALOGO.REMOVER'),\r\n                    cancel             : this.translate('TAREFAS.PAINEL-DE-FASES.DIALOGO.CANCELAR')\r\n                });\r\n\r\n                this.$mdDialog.show(confirm).then(function () {\r\n                    var arr = this.board.labels;\r\n                    arr.splice(arr.indexOf(arr.getById(labelId)), 1);\r\n\r\n                    angular.forEach(this.board.cards, function (card) {\r\n                        if (card.idLabels && card.idLabels.indexOf(labelId) > -1 ) {\r\n                            card.idLabels.splice(card.idLabels.indexOf(labelId), 1);\r\n                        }\r\n                    });\r\n                }.bind(this));\r\n            }\r\n        }\r\n    });\r\n})();"],"sourceRoot":"/source/"}